<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>logstack module &mdash; Ulto - An Imperative Reversible Programming Language v1.0.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=d29a5c0e"></script>
        <script src="_static/doctools.js?v=9a2dae69"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="malloc module" href="malloc.html" />
    <link rel="prev" title="lazyeval module" href="lazyeval.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Ulto - An Imperative Reversible Programming Language
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Modules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="lexer.html">lexer module</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpreter.html">interpreter module</a></li>
<li class="toctree-l1"><a class="reference internal" href="semantic_analyser.html">semantic_analyser module</a></li>
<li class="toctree-l1"><a class="reference internal" href="parser.html">parser module</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="core.html">core package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="core.html#modules">Modules</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="lazyeval.html">lazyeval module</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">logstack module</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#src.core.logstack.LogStack"><code class="docutils literal notranslate"><span class="pre">LogStack</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="malloc.html">malloc module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="core.html#module-src.core">Module contents</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Ulto - An Imperative Reversible Programming Language</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="core.html">core package</a></li>
      <li class="breadcrumb-item active">logstack module</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/logstack.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="logstack-module">
<h1>logstack module<a class="headerlink" href="#logstack-module" title="Link to this heading"></a></h1>
<dl class="py class" id="module-src.core.logstack">
<dt class="sig sig-object py" id="src.core.logstack.LogStack">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">src.core.logstack.</span></span><span class="sig-name descname"><span class="pre">LogStack</span></span><a class="headerlink" href="#src.core.logstack.LogStack" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to manage a stack-based log of variable values with support for undo operations.</p>
<p>The <cite>LogStack</cite> class is designed to keep track of the changes made to variables over time.
It stores the history of variable values along with timestamps, allowing for operations
like pushing new values, popping the most recent value, peeking at previous values, pruning
old entries, and calculating memory usage.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="src.core.logstack.LogStack.log">
<span class="sig-name descname"><span class="pre">log</span></span><a class="headerlink" href="#src.core.logstack.LogStack.log" title="Link to this definition"></a></dt>
<dd><p>A dictionary where keys are variable names and values are lists of tuples
storing old values and their corresponding timestamps.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="src.core.logstack.LogStack.last_pruned">
<span class="sig-name descname"><span class="pre">last_pruned</span></span><a class="headerlink" href="#src.core.logstack.LogStack.last_pruned" title="Link to this definition"></a></dt>
<dd><p>The last time the log was pruned, stored as a Unix timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.core.logstack.LogStack.get_memory_usage">
<span class="sig-name descname"><span class="pre">get_memory_usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#src.core.logstack.LogStack.get_memory_usage" title="Link to this definition"></a></dt>
<dd><p>Calculates the memory usage of the log stack.</p>
<p>This method computes the total memory usage of the log stack, including the memory
used by the log dictionary, variable names, and their stored values.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The total memory usage of the log stack in megabytes (MB).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.core.logstack.LogStack.peek">
<span class="sig-name descname"><span class="pre">peek</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.core.logstack.LogStack.peek" title="Link to this definition"></a></dt>
<dd><p>Peeks at a specific previous value in the log stack for a given variable.</p>
<p>This method allows you to view a previous value without removing it from the stack.
The <cite>index</cite> parameter specifies how far back to look (1 for the most recent, 2 for
the second most recent, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_name</strong> (<em>str</em>) – The name of the variable to peek at.</p></li>
<li><p><strong>index</strong> (<em>int</em>) – The position in the log stack to peek at (1 for the most recent).</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The value at the specified position in the log stack, or <cite>None</cite> if the</dt><dd><p>position is out of range or the variable does not exist.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.core.logstack.LogStack.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.core.logstack.LogStack.pop" title="Link to this definition"></a></dt>
<dd><p>Pops the most recent value from the log stack for a given variable.</p>
<p>If the variable has an entry in the log and it is not empty, the most recent
value is removed and returned. If the log is empty or the variable does not
exist in the log, <cite>None</cite> is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>var_name</strong> (<em>str</em>) – The name of the variable whose most recent value is to be popped.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The most recent old value of the variable, or <cite>None</cite> if no value is available.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.core.logstack.LogStack.prune">
<span class="sig-name descname"><span class="pre">prune</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">retention_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50000</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.core.logstack.LogStack.prune" title="Link to this definition"></a></dt>
<dd><p>Prunes old log entries based on a specified retention time.</p>
<p>This method removes any entries in the log that are older than the specified
<cite>retention_time</cite>. The default retention time is 50,000 seconds. Pruning is
only performed if enough time has passed since the last pruning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>retention_time</strong> (<em>int</em><em>, </em><em>optional</em>) – The maximum age of log entries to retain, in seconds.
Entries older than this will be removed. Defaults to 50,000.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="src.core.logstack.LogStack.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">var_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_value</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#src.core.logstack.LogStack.push" title="Link to this definition"></a></dt>
<dd><p>Pushes the old value of a variable onto the log stack.</p>
<p>If the variable does not have an existing log, a new entry is created.
The old value is stored along with the current timestamp.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>var_name</strong> (<em>str</em>) – The name of the variable whose value is being logged.</p></li>
<li><p><strong>old_value</strong> (<em>Any</em>) – The old value of the variable to be pushed onto the log.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="lazyeval.html" class="btn btn-neutral float-left" title="lazyeval module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="malloc.html" class="btn btn-neutral float-right" title="malloc module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Aman Thapa Magar.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>